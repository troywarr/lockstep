(function(){var t,o,n,e,i=function(t,o){return function(){return t.apply(o,arguments)}};o={},o.seconds=1e3,o.minutes=60*o.seconds,o.hours=60*o.minutes,o.days=24*o.hours,e=function(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},n=function(t,o){var n,e;e={};for(n in t)e[n]=t[n];for(n in o)e[n]=o[n];return e},t=function(){function t(){this._loop=i(this._loop,this),this._checkArguments(arguments),this.settings=this._buildSettings(),this.running=!1,this.count={start:0,stop:0,reset:0}}return t.prototype._checkArguments=function(t){switch(t.length){case 1:if("function"===e(t[0]))return this.options={},this.callback=t[0];if("object"===e(t[0]))return this.options=t[0],this.callback=t[0].step;throw new Error("Bad arguments supplied.");case 2:if("object"===e(t[0])&&"function"===e(t[1]))return this.options=t[0],this.callback=t[1];throw new Error("Bad arguments supplied.");default:throw new Error("No arguments supplied.")}},t.prototype._buildSettings=function(){var t;return t={elapsed:+new Date,interval:1e3},n(t,this.options)},t.prototype._millisecondsToClockTime=function(t){return{milliseconds:t%1e3,seconds:Math.floor(t/o.seconds)%60,minutes:Math.floor(t/o.minutes)%60,hours:Math.floor(t/o.hours)%24,days:Math.floor(t/o.days)}},t.prototype._millisecondsToElapsedTime=function(t){return{milliseconds:t,seconds:Math.floor(t/o.seconds),minutes:Math.floor(t/o.minutes),hours:Math.floor(t/o.hours),days:Math.floor(t/o.days)}},t.prototype._elapsedTimeToMilliseconds=function(t){return t.milliseconds},t.prototype._clockTimeToMilliseconds=function(){var t,n,e;n=0;for(t in obj)e=obj[t],n+=e*o[t];return n},t.prototype._loop=function(){return this.pulse=window.requestAnimationFrame(this._loop),this._step()},t.prototype._step=function(){var t;return t=this.getInfo(),this.callback(t)},t.prototype.start=function(){return this.running?void 0:(this.count.start++,this.running=!0)},t.prototype.stop=function(){return this.running?(window.cancelAnimationFrame(this.pulse),this.count.stop++,this.running=!1,this._step()):void 0},t.prototype.reset=function(t){return this.count.reset++,t&&this.stop(),this._step()},t.prototype.add=function(){},t.prototype.subtract=function(){},t.prototype.getInfo=function(){var t;return t=this.getMilliseconds(),{time:{elapsed:this._millisecondsToElapsedTime(t),clock:this._millisecondsToClockTime(t)},count:this.count}},t.prototype.getMilliseconds=function(){return+new Date-this.settings.elapsed},t.prototype.getElapsedTime=function(){},t.prototype.setElapsedTime=function(){},t.prototype.when=function(){},t.prototype.every=function(){},t.prototype["while"]=function(){},t.prototype.during=function(){},t.prototype.beginning=function(){},t.prototype.ending=function(){},t}(),"function"==typeof define&&null!=define.amd?define(function(){return t}):null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=t:this.Lockstep=t}).call(this);